# =============================================================================
# CodeReview Agent Configuration
# Copy this file to .env and fill in your values. .env is gitignored.
# Uses __ (double underscore) as section separator for .NET configuration.
# =============================================================================

# Which task/work-item system to fetch ticket details from.
# "Jira"        - Atlassian JIRA Cloud. Expects branch names like feature/PROJ-123
# "AzureDevOps" - Azure DevOps Work Items. Expects branch names like feature/12345
CodeReview__TaskSystem=Jira

# PR author filter. Only PRs created by these authors will trigger a review.
# The value is matched against both displayName and uniqueName (email) from the webhook.
# Add more authors with __1, __2, etc.
CodeReview__AllowedAuthors__0=George Kanailov

# Local directory where repositories will be cloned/fetched into.
# Each repo gets its own subdirectory (e.g. /repos/MyRepo).
# Leave empty to use the default: {app directory}/repos (next to the built DLL).
# Repos are kept as local clones for speed — subsequent PRs on the same repo only fetch, not re-clone.
CodeReview__RepoBasePath=

# How many days to keep an unused repo clone before deleting it.
# Set to 0 to disable cleanup (keep all repos forever).
# Default: 14
CodeReview__RepoRetentionDays=14

# Directory where review markdown files are saved.
# Files are named: {date}_PR-{id}_{ticket}.md
CodeReview__ReviewsOutputPath=D:/Workspace/AI/CodeReviewAgent/reviews

# Path to a markdown file with review instructions for the AI agent.
# This file defines how the agent should structure its review, what to focus on, severity levels, etc.
# You can iterate on this file to improve review quality over time.
# Supports absolute paths or relative to the project directory.
# Default: review-instructions.md (shipped with the project)
CodeReview__ReviewInstructionsPath=review-instructions.md

# Which AI engine to use for code reviews.
# "Claude" (default) - Uses Claude Code CLI (`claude -p`). Requires Claude Code installed and authenticated.
# "Ollama"           - Uses a locally hosted model via Ollama API. No external access needed.
CodeReview__ReviewEngine=Claude

# Optional shared secret for webhook validation.
# If set, incoming webhooks must include an X-Webhook-Secret header matching this value.
# Leave empty to skip validation.
CodeReview__WebhookSecret=

# =============================================================================
# Claude (only needed when ReviewEngine=Claude)
# =============================================================================

# Path to the Claude Code CLI executable.
# Use "claude" if it's on your PATH, otherwise provide the full path.
Claude__CliPath=claude

# =============================================================================
# Ollama (only needed when ReviewEngine=Ollama)
# =============================================================================

# Ollama API host URL.
# Default: http://localhost:11434
Ollama__Host=http://localhost:11434

# Ollama model to use for reviews.
# Use any model you have pulled (e.g. llama3, codellama, deepseek-coder, mistral).
# Run `ollama list` to see available models.
Ollama__Model=llama3

# =============================================================================
# JIRA Cloud (only needed when TaskSystem=Jira)
# =============================================================================

# JIRA subdomain only — NOT the full URL.
# Example: if your JIRA is at https://mu--se.atlassian.net, set this to "mu--se"
Jira__Domain=yourcompany

# Email address of the JIRA account used for API access.
Jira__Email=you@yourcompany.com

# JIRA API token. Generate one at:
# https://id.atlassian.com/manage-profile/security/api-tokens
Jira__ApiToken=

# =============================================================================
# GitHub (only needed when using the GitHub webhook at /api/webhook/github)
# =============================================================================

# GitHub Personal Access Token with read access to repositories.
# Generate at: https://github.com/settings/tokens
# Needs "repo" scope for private repos, or "public_repo" for public-only.
GitHub__Pat=

# Optional webhook secret for HMAC-SHA256 signature validation.
# If set, GitHub must be configured with the same secret.
# The signature is sent in the X-Hub-Signature-256 header.
# Leave empty to skip validation (not recommended for production).
GitHub__WebhookSecret=

# =============================================================================
# Azure DevOps (only needed when using the ADO webhook at /api/webhook/azuredevops)
# When TaskSystem=AzureDevOps, also used to fetch work item details.
# =============================================================================

# Base URL of your Azure DevOps instance (without the project name, no trailing slash).
# Works with both domain formats:
#   Old: https://myorg.visualstudio.com
#   New: https://dev.azure.com/myorg
AzureDevOps__BaseUrl=

# Azure DevOps project name — the segment after the base URL.
# Example: if your project is at https://smdirect.visualstudio.com/SheetMusicDirect,
# set this to "SheetMusicDirect"
AzureDevOps__Project=

# Personal Access Token with read access to Code and (if TaskSystem=AzureDevOps) Work Items.
# Generate at: https://{your-base-url}/_usersSettings/tokens
AzureDevOps__Pat=
